(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6288],{17135:function(e,t,n){"use strict";n.d(t,{ZP:function(){return x}});var r=n(49971),o=n(59037),i=n(96023),a=n(28831),s=n(63703),u=n(30921),l=n(53404),c=n(97380);let d=r.createContext();var p=n(93527),h=n(4338);function f(e){return(0,h.ZP)("MuiGrid",e)}let m=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],g=(0,p.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>`spacing-xs-${e}`),...["column-reverse","column","row-reverse","row"].map(e=>`direction-xs-${e}`),...["nowrap","wrap-reverse","wrap"].map(e=>`wrap-xs-${e}`),...m.map(e=>`grid-xs-${e}`),...m.map(e=>`grid-sm-${e}`),...m.map(e=>`grid-md-${e}`),...m.map(e=>`grid-lg-${e}`),...m.map(e=>`grid-xl-${e}`)]);var y=n(35979);function v(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach(e=>{""===r&&0!==n[e]&&(r=e)});let o=Object.keys(t).sort((e,n)=>t[e]-t[n]);return o.slice(0,o.indexOf(r))}let b=(0,u.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:s,zeroMinWidth:u,breakpoints:l}=n,c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[n[`spacing-xs-${String(e)}`]];let r=[];return t.forEach(t=>{let o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])}),r}(a,l,t));let d=[];return l.forEach(e=>{let r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])}),[t.root,r&&t.container,i&&t.item,u&&t.zeroMinWidth,...c,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})(e=>{let{ownerState:t}=e;return{boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},..."wrap"!==t.wrap&&{flexWrap:t.wrap}}},function(e){let{theme:t,ownerState:n}=e,r=(0,i.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,i.k9)({theme:t},r,e=>{let t={flexDirection:e};return e.startsWith("column")&&(t[`& > .${g.item}`]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:n}=e,{container:r,rowSpacing:o}=n,a={};if(r&&0!==o){let e;let n=(0,i.P$)({values:o,breakpoints:t.breakpoints.values});"object"==typeof n&&(e=v({breakpoints:t.breakpoints.values,values:n})),a=(0,i.k9)({theme:t},n,(n,r)=>{let o=t.spacing(n);return"0px"!==o?{marginTop:`calc(-1 * ${o})`,[`& > .${g.item}`]:{paddingTop:o}}:e?.includes(r)?{}:{marginTop:0,[`& > .${g.item}`]:{paddingTop:0}}})}return a},function(e){let{theme:t,ownerState:n}=e,{container:r,columnSpacing:o}=n,a={};if(r&&0!==o){let e;let n=(0,i.P$)({values:o,breakpoints:t.breakpoints.values});"object"==typeof n&&(e=v({breakpoints:t.breakpoints.values,values:n})),a=(0,i.k9)({theme:t},n,(n,r)=>{let o=t.spacing(n);if("0px"!==o){let e=`calc(-1 * ${o})`;return{width:`calc(100% + ${o})`,marginLeft:e,[`& > .${g.item}`]:{paddingLeft:o}}}return e?.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${g.item}`]:{paddingLeft:0}}})}return a},function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce((e,o)=>{let a={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let s=(0,i.P$)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"==typeof s?s[o]:s;if(null==u)return e;let l=`${Math.round(t/u*1e8)/1e6}%`,c={};if(r.container&&r.item&&0!==r.columnSpacing){let e=n.spacing(r.columnSpacing);if("0px"!==e){let t=`calc(${l} + ${e})`;c={flexBasis:t,maxWidth:t}}}a={flexBasis:l,flexGrow:0,maxWidth:l,...c}}return 0===n.breakpoints.values[o]?Object.assign(e,a):e[n.breakpoints.up(o)]=a,e},{})}),w=e=>{let{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:u,breakpoints:l}=e,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[`spacing-xs-${String(e)}`];let n=[];return t.forEach(t=>{let r=e[t];if(Number(r)>0){let e=`spacing-${t}-${String(r)}`;n.push(e)}}),n}(i,l));let d=[];l.forEach(t=>{let n=e[t];n&&d.push(`grid-${t}-${String(n)}`)});let p={root:["root",n&&"container",o&&"item",u&&"zeroMinWidth",...c,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==a&&`wrap-xs-${String(a)}`,...d]};return(0,s.Z)(p,f,t)};var x=r.forwardRef(function(e,t){let n=(0,l.i)({props:e,name:"MuiGrid"}),{breakpoints:i}=(0,c.Z)(),s=(0,a.Z)(n),{className:u,columns:p,columnSpacing:h,component:f="div",container:m=!1,direction:g="row",item:v=!1,rowSpacing:x,spacing:M=0,wrap:P="wrap",zeroMinWidth:k=!1,...S}=s,O=r.useContext(d),I=m?p||12:O,E={},j={...S};i.keys.forEach(e=>{null!=S[e]&&(E[e]=S[e],delete j[e])});let C={...s,columns:I,container:m,direction:g,item:v,rowSpacing:x||M,columnSpacing:h||M,wrap:P,zeroMinWidth:k,spacing:M,...E,breakpoints:i.keys},T=w(C);return(0,y.jsx)(d.Provider,{value:I,children:(0,y.jsx)(b,{ownerState:C,className:(0,o.Z)(T.root,u),as:f,ref:t,...j})})})},43828:function(e,t,n){"use strict";var r=n(49971),o=n(59037),i=n(63703),a=n(30921),s=n(48363),u=n(53404),l=n(56943),c=n(92107),d=n(35979);let p=e=>{let{alignItems:t,classes:n}=e;return(0,i.Z)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},l.f,n)},h=(0,a.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((0,s.Z)(e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}})),f=r.forwardRef(function(e,t){let n=(0,u.i)({props:e,name:"MuiListItemIcon"}),{className:i,...a}=n,s=r.useContext(c.Z),l={...n,alignItems:s.alignItems},f=p(l);return(0,d.jsx)(h,{className:(0,o.Z)(f.root,i),ownerState:l,ref:t,...a})});t.Z=f},36004:function(e,t,n){"use strict";var r=n(49971),o=n(59037),i=n(63703),a=n(52121),s=n(21395),u=n(92107),l=n(30921),c=n(53404),d=n(84291),p=n(78059),h=n(35979);let f=e=>{let{classes:t,inset:n,primary:r,secondary:o,dense:a}=e;return(0,i.Z)({root:["root",n&&"inset",a&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},d.L,t)},m=(0,l.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${d.Z.primary}`]:t.primary},{[`& .${d.Z.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${a.Z.root}:where(& .${d.Z.primary})`]:{display:"block"},[`.${a.Z.root}:where(& .${d.Z.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),g=r.forwardRef(function(e,t){let n=(0,c.i)({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:l=!1,inset:d=!1,primary:g,primaryTypographyProps:y,secondary:v,secondaryTypographyProps:b,slots:w={},slotProps:x={},...M}=n,{dense:P}=r.useContext(u.Z),k=null!=g?g:i,S=v,O={...n,disableTypography:l,inset:d,primary:!!k,secondary:!!S,dense:P},I=f(O),E={slots:w,slotProps:{primary:y,secondary:b,...x}},[j,C]=(0,p.Z)("primary",{className:I.primary,elementType:s.default,externalForwardedProps:E,ownerState:O}),[T,L]=(0,p.Z)("secondary",{className:I.secondary,elementType:s.default,externalForwardedProps:E,ownerState:O});return null==k||k.type===s.default||l||(k=(0,h.jsx)(j,{variant:P?"body2":"body1",component:C?.variant?void 0:"span",...C,children:k})),null==S||S.type===s.default||l||(S=(0,h.jsx)(T,{variant:"body2",color:"textSecondary",...L,children:S})),(0,h.jsxs)(m,{className:(0,o.Z)(I.root,a),ownerState:O,ref:t,...M,children:[k,S]})});t.Z=g},68365:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var r=n(91482),o=n.n(r)},91482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(88009);n(35979),n(49971);let o=r._(n(97738));function i(e,t){var n;let r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,o.default)({...i,modules:null==(n=i.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let r=n(1855);function o(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},97738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=n(35979),o=n(49971),i=n(91060),a=n(47762);function s(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},l=function(e){let t={...u,...e},n=(0,o.lazy)(()=>t.loader().then(s)),l=t.loading;function c(e){let s=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(o.Suspense,{fallback:s,children:u})}return c.displayName="LoadableComponent",c}},47762:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return o}});let r=n(35979);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let{getExpectedRequestStore:o}=n(31687),i=o(),a=[];if(i.reactLoadableManifest&&t){let e=i.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:i.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},96901:function(e,t,n){"use strict";var r=n(29295);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},78597:function(e,t,n){e.exports=n(96901)()},29295:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69043:function(e,t,n){var r;r=function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),o=n(t);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||f(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return new Promise(function(n,r){var o=new Image;o.onload=function(){return n(o)},o.onerror=r,!1==(null!==e&&!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@/?%\s]*\s*$/i))&&t&&(o.crossOrigin=t),o.src=e})}var y,v=!("undefined"==typeof window||"undefined"==typeof navigator||!("ontouchstart"in window||0<navigator.msMaxTouchPoints)),b="undefined"!=typeof File,w={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",move:"mousemove",up:"mouseup"}}},x=v?w.touch:w.desktop,M="undefined"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,P={x:.5,y:.5},k=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,o.default.Component);var e,t,n,r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var t,n=c(u);return t=e?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),t&&("object"==typeof t||"function"==typeof t)?t:p(this)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u),a(p(t=r.call(this,e)),"state",{drag:!1,my:null,mx:null,image:P}),a(p(t),"handleImageReady",function(e){var n=t.getInitialSize(e.width,e.height);n.resource=e,n.x=.5,n.y=.5,n.backgroundColor=t.props.backgroundColor,t.setState({drag:!1,image:n},t.props.onImageReady),t.props.onLoadSuccess(n)}),a(p(t),"clearImage",function(){t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height),t.setState({image:P})}),a(p(t),"handleMouseDown",function(e){(e=e||window.event).preventDefault(),t.setState({drag:!0,mx:null,my:null})}),a(p(t),"handleMouseUp",function(){t.state.drag&&(t.setState({drag:!1}),t.props.onMouseUp())}),a(p(t),"handleMouseMove",function(e){var n,r,o,i,a,s,u,c,d,p,h,f,m,g,y,v;e=e||window.event,!1!==t.state.drag&&(e.preventDefault(),o={mx:n=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:r=e.targetTouches?e.targetTouches[0].pageY:e.clientY},v=(v=t.props.rotate%360)<0?v+360:v,t.state.mx&&t.state.my&&(i=t.state.mx-n,a=t.state.my-r,s=t.state.image.width*t.props.scale,u=t.state.image.height*t.props.scale,d=(c=t.getCroppingRect()).x,p=c.y,d*=s,p*=u,f=Math.cos((h=function(e){return Math.PI/180*e})(v)),g=p+-i*(m=Math.sin(h(v)))+a*f,y={x:(d+i*f+a*m)/s+1/t.props.scale*t.getXScale()/2,y:g/u+1/t.props.scale*t.getYScale()/2},t.props.onPositionChange(y),o.image=l(l({},t.state.image),y)),t.setState(o),t.props.onMouseMove(e))}),a(p(t),"setCanvas",function(e){t.canvas=e}),t.canvas=null,t}return t=[{key:"componentDidMount",value:function(){this.props.disableHiDPIScaling&&(M=1);var e,t,n=this.canvas.getContext("2d");this.props.image&&this.loadImage(this.props.image),this.paint(n),document&&(e=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()&&{passive:!1},t=x.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),v&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:"componentDidUpdate",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height||this.props.backgroundColor!==e.backgroundColor?this.loadImage(this.props.image):this.props.image||t.image===P||this.clearImage();var n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(n),this.paintImage(n,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y&&t.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:"componentWillUnmount",value:function(){var e;document&&(e=x.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),v&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:"isVertical",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:"getBorders",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:"getDimensions",value:function(){var e=this.props,t=e.width,n=e.height,r=e.rotate,o=e.border,i={},a=h(this.getBorders(o),2),s=a[0],u=a[1];return this.isVertical()?(i.width=n,i.height=t):(i.width=t,i.height=n),i.width+=2*s,i.height+=2*u,{canvas:i,rotate:r,width:t,height:n,border:o}}},{key:"getImage",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var n=document.createElement("canvas");this.isVertical()?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var r=n.getContext("2d");return r.translate(n.width/2,n.height/2),r.rotate(this.props.rotate*Math.PI/180),r.translate(-n.width/2,-n.height/2),this.isVertical()&&r.translate((n.width-n.height)/2,(n.height-n.width)/2),t.backgroundColor&&(r.fillStyle=t.backgroundColor,r.fillRect(-e.x,-e.y,t.resource.width,t.resource.height)),r.drawImage(t.resource,-e.x,-e.y),n}},{key:"getImageScaledToCanvas",value:function(){var e=this.getDimensions(),t=e.width,n=e.height,r=document.createElement("canvas");return this.isVertical()?(r.width=n,r.height=t):(r.width=t,r.height=n),this.paintImage(r.getContext("2d"),this.state.image,0,1),r}},{key:"getXScale",value:function(){return Math.min(1,this.props.width/this.props.height/(this.state.image.width/this.state.image.height))}},{key:"getYScale",value:function(){return Math.min(1,this.props.height/this.props.width/(this.state.image.height/this.state.image.width))}},{key:"getCroppingRect",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),n=1/this.props.scale*this.getYScale(),r={x:e.x-t/2,y:e.y-n/2,width:t,height:n},o=0,i=1-r.width,a=0,s=1-r.height;return(this.props.disableBoundaryChecks||1<t||1<n)&&(o=-r.width,a=-r.height,s=i=1),l(l({},r),{},{x:Math.max(o,Math.min(r.x,i)),y:Math.max(a,Math.min(r.y,s))})}},{key:"loadImage",value:function(e){b&&e instanceof File?this.loadingImage=new Promise(function(t,n){var r=new FileReader;r.onload=function(e){try{var r=g(e.target.result);t(r)}catch(e){n(e)}},r.readAsDataURL(e)}).then(this.handleImageReady).catch(this.props.onLoadFailure):"string"==typeof e&&(this.loadingImage=g(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:"getInitialSize",value:function(e,t){var n,r,o=this.getDimensions();return t/e<o.height/o.width?r=(n=this.getDimensions().height)/t*e:n=(r=this.getDimensions().width)/e*t,{height:n,width:r}}},{key:"paintImage",value:function(e,t,n,r){var o,i=3<arguments.length&&void 0!==r?r:M;t.resource&&(o=this.calculatePosition(t,n),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(i,i),e.globalCompositeOperation="destination-over",e.drawImage(t.resource,o.x,o.y,o.width,o.height),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(o.x,o.y,o.width,o.height)),e.restore())}},{key:"calculatePosition",value:function(e,t){e=e||this.state.image;var n=h(this.getBorders(t),2),r=n[0],o=n[1],i=this.getCroppingRect(),a=e.width*this.props.scale,s=e.height*this.props.scale,u=-i.x*a,l=-i.y*s;return this.isVertical()?(u+=o,l+=r):(u+=r,l+=o),{x:u,y:l,height:s,width:a}}},{key:"paint",value:function(e){e.save(),e.scale(M,M),e.translate(0,0),e.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var t,n,r,o,i,a=this.props.borderRadius,s=this.getDimensions(),u=h(this.getBorders(s.border),2),l=u[0],c=u[1],d=s.canvas.height,p=s.canvas.width,a=Math.max(a,0);a=Math.min(a,p/2-l,d/2-c),e.beginPath(),t=p-2*l,n=d-2*c,0===(r=a)?e.rect(l,c,t,n):(o=t-r,i=n-r,e.translate(l,c),e.arc(r,r,r,Math.PI,1.5*Math.PI),e.lineTo(o,0),e.arc(o,r,r,1.5*Math.PI,2*Math.PI),e.lineTo(t,i),e.arc(o,i,r,2*Math.PI,.5*Math.PI),e.lineTo(r,n),e.arc(r,i,r,.5*Math.PI,Math.PI),e.translate(-l,-c)),e.rect(p,0,-p,d),e.fill("evenodd"),e.restore()}},{key:"render",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.backgroundColor,e.style),n=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["scale","rotate","image","border","borderRadius","width","height","position","color","backgroundColor","style","crossOrigin","onLoadFailure","onLoadSuccess","onImageReady","onImageChange","onMouseUp","onMouseMove","onPositionChange","disableBoundaryChecks","disableHiDPIScaling","disableCanvasRotation"])),r=this.getDimensions(),i={width:r.canvas.width,height:r.canvas.height,cursor:this.state.drag?"grabbing":"grab",touchAction:"none"},a={width:r.canvas.width*M,height:r.canvas.height*M,style:l(l({},i),t)};return a[x.react.down]=this.handleMouseDown,v&&(a[x.react.mouseDown]=this.handleMouseDown),o.default.createElement("canvas",s({ref:this.setCanvas},a,n))}}],i(u.prototype,t),n&&i(u,n),u}();return a(k,"propTypes",{scale:r.default.number,rotate:r.default.number,image:r.default.oneOfType([r.default.string].concat(function(e){if(Array.isArray(e))return m(e)}(y=b?[r.default.instanceOf(File)]:[])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(y)||f(y)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),border:r.default.oneOfType([r.default.number,r.default.arrayOf(r.default.number)]),borderRadius:r.default.number,width:r.default.number,height:r.default.number,position:r.default.shape({x:r.default.number,y:r.default.number}),color:r.default.arrayOf(r.default.number),backgroundColor:r.default.string,crossOrigin:r.default.oneOf(["","anonymous","use-credentials"]),onLoadFailure:r.default.func,onLoadSuccess:r.default.func,onImageReady:r.default.func,onImageChange:r.default.func,onMouseUp:r.default.func,onMouseMove:r.default.func,onPositionChange:r.default.func,disableBoundaryChecks:r.default.bool,disableHiDPIScaling:r.default.bool,disableCanvasRotation:r.default.bool}),a(k,"defaultProps",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),k},e.exports=r(n(78597),n(49971))},81859:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return s}});var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));var s=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();let s=(e=e||{}).random||(e.rng||function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(s)}},31928:function(e,t,n){"use strict";n.d(t,{XI:function(){return M}});var r=n(9970),o=n(49971);new WeakMap,o.createContext(null).displayName="PressResponderContext";let i=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),a=new Set,s=!1,u=!1,l=!1;function c(e,t){for(let n of a)n(e,t)}function d(e){u=!0,e.metaKey||!(0,r.V5)()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||c("keyboard",e)}function p(e){("mousedown"===e.type||"pointerdown"===e.type)&&(u=!0,c("pointer",e))}function h(e){(0,r.Zj)(e)&&(u=!0)}function f(e){e.target!==window&&e.target!==document&&(u||l||c("virtual",e),u=!1,l=!1)}function m(){u=!1,l=!0}function g(){if("undefined"==typeof window||s)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){u=!0,e.apply(this,arguments)},document.addEventListener("keydown",d,!0),document.addEventListener("keyup",d,!0),document.addEventListener("click",h,!0),window.addEventListener("focus",f,!0),window.addEventListener("blur",m,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",p,!0),document.addEventListener("pointermove",p,!0),document.addEventListener("pointerup",p,!0)):(document.addEventListener("mousedown",p,!0),document.addEventListener("mousemove",p,!0),document.addEventListener("mouseup",p,!0)),s=!0}"undefined"!=typeof document&&("loading"!==document.readyState?g():document.addEventListener("DOMContentLoaded",g));let y=!1,v=0;function b(){y=!0,setTimeout(()=>{y=!1},50)}function w(e){"touch"===e.pointerType&&b()}function x(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",w):document.addEventListener("touchend",b),v++,()=>{--v>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",w):document.removeEventListener("touchend",b))}}function M(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[a,s]=(0,o.useState)(!1),u=(0,o.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,o.useEffect)(x,[]);let{hoverProps:l,triggerHoverEnd:c}=(0,o.useMemo)(()=>{let e=(e,r)=>{if(u.pointerType=r,i||"touch"===r||u.isHovered||!e.currentTarget.contains(e.target))return;u.isHovered=!0;let o=e.currentTarget;u.target=o,t&&t({type:"hoverstart",target:o,pointerType:r}),n&&n(!0),s(!0)},o=(e,t)=>{if(u.pointerType="",u.target=null,"touch"===t||!u.isHovered)return;u.isHovered=!1;let o=e.currentTarget;r&&r({type:"hoverend",target:o,pointerType:t}),n&&n(!1),s(!1)},a={};return"undefined"!=typeof PointerEvent?(a.onPointerEnter=t=>{y&&"mouse"===t.pointerType||e(t,t.pointerType)},a.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,e.pointerType)}):(a.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},a.onMouseEnter=t=>{u.ignoreEmulatedMouseEvents||y||e(t,"mouse"),u.ignoreEmulatedMouseEvents=!1},a.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&o(e,"mouse")}),{hoverProps:a,triggerHoverEnd:o}},[t,n,r,i,u]);return(0,o.useEffect)(()=>{i&&c({currentTarget:u.target},u.pointerType)},[i]),{hoverProps:l,isHovered:a}}}}]);